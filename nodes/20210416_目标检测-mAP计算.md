# 20210416_目标检测-mAP计算

## 1、创建 ground-truth 文件

1. 为每张图片创建独立的 ground-truth text文件

2. 对每个图片使用“matching names”（e.g. image:"image_1.jpg", ground-truth:"image_1.txt"）

3. 在这些文件中，每行需要使用下面的格式：

   ```
   <class_name><left><top><right><bottom>[<difficult>]
   ```

4. “difficult”参数是可选的，如果你想忽略特殊目标

5. E.g. "image_1.txt":

   ```
   tvmonitor 2 10 173 238
   book 439 157 556 241
   book 437 246 518 351 difficult
   pottedplant 272 190 316 259
   ```

## 2、创建 detection-results 文件

1. 为每张图片创建独立的 detection-results text文件

2. 对每个图片使用“matching names”（e.g. image:"image_1.jpg", gdetection-results:"image_1.txt"）

3. 在这些文件中，每行需要使用下面的格式：

   ```
   <class_name><confidence><left><top><right><bottom>
   ```

4. E.g. "image_1.txt":

   ```
   tvmonitor 0.471781 0 13 174 244
   cup 0.414941 274 226 301 265
   book 0.460851 429 219 528 247
   chair 0.292345 0 199 88 436
   book 0.269833 433 260 506 336
   ```

## 3、计算

https://github.com/Cartucho/mAP